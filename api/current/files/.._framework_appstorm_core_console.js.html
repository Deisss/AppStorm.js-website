<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
	<meta http-equiv="Content-Language" content="en" />
	<!-- Run IE in current version (not compatibility) mode -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<!-- Content information -->
	<meta name="description" content="AppStorm.JS is a framework for build fast and structured application" />
	<meta name="keywords" content="appstorm, appstorm.js, appstormjs, framework, framework-javascript, javascript, framework-js, js, appstorm-javascript" />
	<meta name="robots" content="index, follow, all" />
    <title>AppStorm.JS / API: ..\framework\appstorm\core\console.js</title>

	<!-- FAVICON -->
	<link rel="icon" type="image/png" href="http://appstormjs.com/site/favicon.png" />
	<!--[if IE]>
		<link rel="shortcut icon" type="image/x-icon" href="http://appstormjs.com/site/favicon.ico" />
	<![endif]-->

    <link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
	<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="http://yui.yahooapis.com/combo?3.8.0pr2/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="http://appstormjs.com/framework/logo/ajs.png">API</a></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em></em>
        </div>
    </div>

    <div>
		<div class="row-fluid">
			<div id="sidebar" class="span3">
				<div id="classes" class="sidebox">
    <div class="hd">
        <h2 class="no-toc">Classes</h2>
    </div>
    <div class="bd">
        <ul>
            
                <li><a href="../classes/a.html">a</a></li>
            
                <li><a href="../classes/a.ajax.html">a.ajax</a></li>
            
                <li><a href="../classes/a.callback.chainer.html">a.callback.chainer</a></li>
            
                <li><a href="../classes/a.callback.synchronizer.html">a.callback.synchronizer</a></li>
            
                <li><a href="../classes/a.console.html">a.console</a></li>
            
                <li><a href="../classes/a.environment.html">a.environment</a></li>
            
                <li><a href="../classes/a.eventEmitter.html">a.eventEmitter</a></li>
            
                <li><a href="../classes/a.form.html">a.form</a></li>
            
                <li><a href="../classes/a.keyboard.html">a.keyboard</a></li>
            
                <li><a href="../classes/a.language.html">a.language</a></li>
            
                <li><a href="../classes/a.loader.html">a.loader</a></li>
            
                <li><a href="../classes/a.message.html">a.message</a></li>
            
                <li><a href="../classes/a.page.event.html">a.page.event</a></li>
            
                <li><a href="../classes/a.page.event.hash.html">a.page.event.hash</a></li>
            
                <li><a href="../classes/a.page.template.html">a.page.template</a></li>
            
                <li><a href="../classes/a.parser.json.html">a.parser.json</a></li>
            
                <li><a href="../classes/a.parser.xml.html">a.parser.xml</a></li>
            
                <li><a href="../classes/a.state.html">a.state</a></li>
            
                <li><a href="../classes/a.state.helper.chainer.html">a.state.helper.chainer</a></li>
            
                <li><a href="../classes/a.state.helper.parameter.html">a.state.helper.parameter</a></li>
            
                <li><a href="../classes/a.state.helper.tree.html">a.state.helper.tree</a></li>
            
                <li><a href="../classes/a.state.type.html">a.state.type</a></li>
            
                <li><a href="../classes/a.storage.html">a.storage</a></li>
            
                <li><a href="../classes/a.storage.cookie.html">a.storage.cookie</a></li>
            
                <li><a href="../classes/a.storage.external.html">a.storage.external</a></li>
            
                <li><a href="../classes/a.storage.memory.html">a.storage.memory</a></li>
            
                <li><a href="../classes/a.storage.persistent.html">a.storage.persistent</a></li>
            
                <li><a href="../classes/a.storage.temporary.html">a.storage.temporary</a></li>
            
                <li><a href="../classes/a.storage.type.cookie.html">a.storage.type.cookie</a></li>
            
                <li><a href="../classes/a.storage.type.flash.html">a.storage.type.flash</a></li>
            
                <li><a href="../classes/a.storage.type.globalStorage.html">a.storage.type.globalStorage</a></li>
            
                <li><a href="../classes/a.storage.type.javafx.html">a.storage.type.javafx</a></li>
            
                <li><a href="../classes/a.storage.type.localStorage.html">a.storage.type.localStorage</a></li>
            
                <li><a href="../classes/a.storage.type.memory.html">a.storage.type.memory</a></li>
            
                <li><a href="../classes/a.storage.type.sessionStorage.html">a.storage.type.sessionStorage</a></li>
            
                <li><a href="../classes/a.storage.type.silverlight.html">a.storage.type.silverlight</a></li>
            
                <li><a href="../classes/a.storage.type.userData.html">a.storage.type.userData</a></li>
            
                <li><a href="../classes/a.timer.html">a.timer</a></li>
            
        </ul>
    </div>
</div>










<div id="fileTree" class="sidebox">
    <div class="hd">
        <h2 class="no-toc">Files</h2>
    </div>
    <div class="bd">
        <ul><li>..\framework\appstorm\a.js/<ul></ul></li><li>..\framework\appstorm\core\ajax.js/<ul></ul></li><li>..\framework\appstorm\core\console.js/<ul></ul></li><li>..\framework\appstorm\core\environment.js/<ul></ul></li><li>..\framework\appstorm\core\loader.js/<ul></ul></li><li>..\framework\appstorm\core\message.js/<ul></ul></li><li>..\framework\appstorm\core\parser.js/<ul></ul></li><li>..\framework\appstorm\core\timer.js/<ul></ul></li><li>..\framework\appstorm\plugin\callback.js/<ul></ul></li><li>..\framework\appstorm\plugin\form.js/<ul></ul></li><li>..\framework\appstorm\plugin\keyboard.js/<ul></ul></li><li>..\framework\appstorm\plugin\language.js/<ul></ul></li><li>..\framework\appstorm\plugin\page.js/<ul></ul></li><li>..\framework\appstorm\plugin\state.js/<ul></ul></li><li>..\framework\appstorm\plugin\storage.js/<ul></ul></li></ul>
    </div>
</div>



			</div>
			<div id="main" class="span9">
				<div class="content"><h4>..\framework\appstorm\core\console.js</h4>

<pre class="code prettyprint linenums">
/* ************************************************************************

	License: MIT Licence

	Authors: VILLETTE Charles

	Date: 2013-05-10

	Date of last modification: 2013-10-11

	Dependencies : [
		a.js
	]

	Events : []

	Description:
		Console functionnality, the system will automatically choose what kind of console is acceptable or not

************************************************************************ */


/**
 * wrapper for system console, allowing to use console even if there is not console support on given browser.
 * Also, it does provide a trace utility in case of bug/check
 *
 * Examples: &lt;a href=&quot;http://appstormjs.com/wiki/doku.php?id=appstorm.js_v0.1:core:console&quot;&gt;here&lt;/a&gt;
 *
 * @class console
 * @static
 * @namespace a
*/
a.console = (function() {
	&quot;use strict&quot;;

	// Store some data if console.log is not available
	var __data = {log : [], warn : [], info : [], error : []};

	/**
	 * Output to console any given value. If console is not ready, the content will be stored into object, the list function allow to access stored content in this case
	 *
	 * @method __out
	 * @private
	 *
	 * @param type {String} The type, like &quot;log&quot;, &quot;warn&quot;, &quot;info&quot;, &quot;error&quot;, ...
	 * @param value {Mixed} The value to output
	 * @param level {Integer | null} Indicate the message priority level, can be null
	 * @param appear {Boolean | null} Indicate if the console should handle or not the message (mostly used for unit test...)
	*/
	function __out(type, value, level, appear) {
		// Rollback to log in case of problem
		if(!a.isArray(__data[type])) {
			type = &quot;log&quot;;
		}
		__data[type].push(value);

		// Bug: IE does not support testing variable existence if they are not scopped with the root (here window)
		if(!a.isNull(window.console) &amp;&amp; a.isFunction(window.console.log) &amp;&amp; appear !== false) {
			// We disable log depending of console level.
			// If no console, or log level, we allow all
			switch(a.environment.get(&quot;console&quot;)) {
				case &quot;error&quot;:
					if(type !== &quot;error&quot;) {
						break;
					}
				case &quot;warning&quot;:
				case &quot;warn&quot;:
					if(type !== &quot;warn&quot; &amp;&amp; type !== &quot;error&quot;) {
						break;
					}
				case &quot;info&quot;:
					if(type === &quot;log&quot;) {
						break;
					}
				default:
					var print = true,
						found = false;

					// We search for fine verbose element
					if(a.isString(value) &amp;&amp; value.indexOf(&quot;:&quot;) &gt;= 0) {
						var name     = value.substr(0, value.indexOf(&quot;:&quot;)),
							splitted = name.split(&quot;.&quot;),
							i        = splitted.length;

						// We go from full array recomposed, to only first item
						while(i--) {
							var key = &quot;verbose-&quot; + splitted.join(&quot;.&quot;),
								en  = a.environment.get(key);

							if(!a.isNull(en)) {
								found = true;
								print = (en &lt; level) ? false : true;
								break;
							}

							// We don&#x27;t find any, we go one level up
							splitted.pop();
						}
					}

					// Check the verbose state to know if we should print or not
					if(!found &amp;&amp; !a.isNull(a.environment.get(&quot;verbose&quot;)) &amp;&amp; !a.isNull(level)) {
						var iverb = parseInt(a.environment.get(&quot;verbose&quot;), 10);
						if(iverb &lt; level) {
							print = false;
						}
					}
					if(print) {
						window.console[type](value);
					}
					break;
			};
		}

		// If data exceed limit, we remove some
		while(__data[type].length &gt; 2000) {
			__data[type].shift();
		}
	};

	return {
		/**
		 * Log data
		 *
		 * @method log
		 *
		 * @param value {Mixed} The value to log on debug
		 * @param level {Integer | null} Indicate the message priority level, can be null
		 * @param appear {Boolean | null} Indicate if the console should handle or not the message (mostly used for unit test...)
		*/
		log : function(value, level, appear) {		__out(&quot;log&quot;, value, level, appear);	},

		/**
		 * Warning data
		 *
		 * @method warn
		 *
		 * @param value {Mixed} The value to warning on debug
		 * @param level {Integer | null} Indicate the message priority level, can be null
		 * @param appear {Boolean | null} Indicate if the console should handle or not the message (mostly used for unit test...)
		*/
		warn : function(value, level, appear) {	__out(&quot;warn&quot;, value, level, appear);	},

		/**
		 * Information data
		 *
		 * @method info
		 *
		 * @param value {Mixed} The value to inform on debug
		 * @param level {Integer | null} Indicate the message priority level, can be null
		 * @param appear {Boolean | null} Indicate if the console should handle or not the message (mostly used for unit test...)
		*/
		info : function(value, level, appear) {	__out(&quot;info&quot;, value, level, appear);	},

		/**
		 * Error data
		 *
		 * @method error
		 *
		 * @param value {Mixed} The value to error on debug
		 * @param level {Integer | null} Indicate the message priority level, can be null
		 * @param appear {Boolean | null} Indicate if the console should handle or not the message (mostly used for unit test...)
		*/
		error : function(value, level, appear) {	__out(&quot;error&quot;, value, level, appear);	},

		/**
		 * List all currently stored content
		 *
		 * @method trace
		 *
		 * @param type {String | null} The string type (can be null)
		 * @return The stored data, the object got 4 properties : log, info, warn, error
		*/
		trace : function(type) {
			return (a.isString(type) &amp;&amp; type in __data) ? __data[type] : __data;
		},

		/**
		 * Clear the stored content
		 *
		 * @method clear
		*/
		clear : function() {
			__data = {log : [], warn : [], info : [], error : []};
		}
	};
}());

</pre>

</div>
			</div>
		</div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/js/tabs.js"></script>
</body>
</html>
